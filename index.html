<!-- HTML Version: Hv1.2.2 -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="html-version" content="Hv1.2.2" />
  <title>ISBN Scanner</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>
    ISBN Scanner
    <span class="version">Loading...</span>
  </h1>

  <div class="input-mode">
    <label><input type="radio" name="mode" value="manual" checked> Keyboard/Scanner</label>
    <label><input type="radio" name="mode" value="camera"> Camera (Not Yet Implemented)</label>
  </div>

  <div id="manual-input">
    <input type="text" id="isbn-input" placeholder="Enter or scan ISBN" autofocus />
    <input type="text" id="price-input" placeholder="Optional manual price" />
    <button onclick="scanISBN()">Scan</button>
  </div>

  <div id="log" class="log-container"></div>

  <div class="controls">
    <button onclick="downloadYAML()">Download YAML</button>
    <label class="upload">
      Upload ISBNs
      <input type="file" id="isbn-upload" accept=".txt" />
    </label>
    <button onclick="clearData()">Clear All</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
  <script src="app.js"></script>
  <script>
    Promise.all([
      fetch('app.js').then(r => r.text()),
      fetch('style.css').then(r => r.text())
    ]).then(([js, css]) => {
      const jv = (js.match(/Jv\\d+\\.\\d+\\.\\d+/) || ['Jv?'])[0];
      const cv = (css.match(/Cv\\d+\\.\\d+\\.\\d+/) || ['Cv?'])[0];
      const hv = document.querySelector('meta[name="html-version"]').content || 'Hv?';
      document.querySelector('.version').textContent = `${jv}:${hv}:${cv}`;
    });
  </script>
</body>
</html>
